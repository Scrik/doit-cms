<?php//контроллерclass users_controller {	//Пользователь авторизован?	function is_authorised()	{			}		//Регистрация  	function registration()	{		//Первый вариант:		action('users#create');		//Второй вариант:		/*		if(d()->validate('users#create')){			$user=d()->User->new;			$user->login=d()->params['login'];			$user->password=d()->params['password'];			$user->save();			header('Location: /');			exit();		}		*/	}		//проверка на занятость ника и другие проверки	function check_registration($params)	{		if( strlen($params['login'])<4) {			d()->add_notice('Имя слишком короткое');			return false;		}	}		 	//Создание пользователя	function create()	{		$user=d()->User->new;		$user->login=d()->params['login'];		$user->password=d()->params['password'];		$user->save();				header('Location: /');		exit();	}		function authorize()	{			} 	function show()	{		d()->client = d()->Client->find(url(2));		print d()->clients_show_tpl();	}		function edit()	{		d()->client = d()->Client->find(url(2));		action('clients#update');		action('mailer');		print d()->clients_edit();	}		function update($params)	{		d()->client->title=$params['title'];		d()->client->text=$params['text'];		d()->client->save;		header('Location: /clients/');		exit;	}}