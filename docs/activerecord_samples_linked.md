Linked-связи Active Record
===================================
Уровень 1
---------

Уровень первый - разминка. Мы можем получать данные из связанных таблиц.

Пример первый. Мы имеем таблицы `products` и `catalogs` - каталоги и товары. Каждый товар может быть в каком-либо каталоге. Каталоги имеют структуру - один каталог может включать в себя несколько подкаталогов.

![связь первая](http://doit-cms.ru/storage/d026acd6ddde3af65b5b0c64da194577.png)

Вывести название каталога для товара с ID=3:

	d()->Product(3)->_catalogs->title;

Получить каталог самого дорогого товара:

	d()->Product->order_by('cost desc')->_catalogs;

Получить все товары каталога с ID=4:

	d()->prod_list = d()->Catalog(4)->_products;

Далее мы можем выводить товары как обычно:

	<foreach prod_list>
		<p>{.title}: {.cost} рублей.</p>
	</foreach>

Получить все подкаталоги каталога c ID=4:

	d()->Catalog(4)->_catalogs;

Получить все товары каталога с ID=4, которые стоят больше 100 рублей:

	d()->Catalog(4)->_products->where('cost > 100');

Уровень 2
---------

Пример тот же. Данные те же. Условия усложнены:

Получить все подкаталоги каталога с ID=4:

	d()->Catalog(4)->_catalogs;

Получить все товары всех подкаталогов каталога c ID=4:

	d()->Catalog(4)->_catalogs->_products;

Получить все товары всех каталогов.

Уровень 3
---------

Уровень 4
---------

"Пользователь может состоять в одной или нескольких группах, группа может иметь доступы разного уровня к одному или несколкьим документами, пользователь может иметь уровень разного доступа к одному или нескольким документами пользователь может быть администратором группы", показать все документы к которым имеет доступ пользователь, включая его документы и документы всех пользователей, всех групп, админом которых он является, с определенным уровнем доступа